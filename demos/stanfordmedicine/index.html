<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toolbar with Iframe Filter</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #toolbar {
            padding: 10px;
            background-color: #f1f1f1;
            display: flex;
            gap: 10px;
        }
        #iframe-container {
            width: 100%;
            height: calc(100% - 50px);
        }
    </style>
</head>
<body>
    <div id="toolbar">
        <label for="faculty">Faculty:</label>
        <select id="faculty" name="faculty">
            <option value="all" selected>All</option>
            <script>
var faculty_names = [
"Ahmad Desai, Sumbul",
"Harrington, Robert",
"Verghese, Abraham C",
"Arai, Sally",
"Brown, Janice Marie",
"Frank, Matthew",
"Johnston, Laura",
"Lowsky, Robert",
"Meyer, Everett",
"Miklos, David",
"Muffly, Lori",
"Negrin, Robert S",
"Rezvani, Andrew R",
"Shiraz, Parveen",
"Shizuru, Judith Anne",
"Sidana, Surbhi",
"Smith, Melody",
"Weng, Wen-Kai",
"Chen, Jonathan Hailin",
"Desai, Manisha",
"Dinakarpandian, Deendayal",
"Downing, Norman Lancelot",
"Gentles, Andrew J",
"Gevaert, Olivier Michel",
"Hernandez-Boussard, Tina Maxine",
"Khatri, Purveshkumar Jayantilal",
"Musen, Mark Alan",
"Shah, Nigam Haresh",
"Abbasi, Fahim A.",
"Alexander, Kevin Michael",
"Ashley, Euan Angus",
"Assimes, Themistocles",
"Badhwar, Nitish",
"Banerjee, Dipanjan",
"Brodt, Chad",
"Buchbinder, Maurice",
"Caleshu, Colleen G",
"Collins, Ronnie Thomas",
"Dash, Rajesh",
"Edwards, Katharine Sears",
"Evans, John Christopher",
"Fearon, William Fuller",
"Fitzgerald, Peter J.",
"Fowler, Michael B",
"Froelicher, Victor",
"Gerber, Daniel",
"Giacomini, John C",
"Haddad, Francois",
"Haeffele, Christiane",
"Heidenreich, Paul A.",
"Honda, Yasuhiro",
"Hoover, Valerie",
"Hunt, Sharon A",
"Ingelsson, Erik David",
"Jimenez, Shirin Y",
"John, Roy M",
"Josan, Kiranbir",
"Kang, Guson",
"Kapoor, Ridhima",
"Khandelwal, Abha",
"Khush, Kiran",
"Kim, Gloria",
"Kim, Juyong Brian",
"Knowles, Joshua",
"Lee, David Patrick",
"Levin, Eleanor G",
"Lewis, Eldrin Foster",
"Liang, David Henchi",
"Liao, Ronglih",
"Lui, George K",
"Mahaffey, Kenneth W",
"McConnell, Michael Vincent Carroll",
"Mercola, Mark",
"Moneghetti, Kegan James",
"Narayan, Sanjiv",
"Nguyen, Duy",
"Nguyen, Patricia Kim",
"Nieman, Koen",
"Palaniappan, Latha Parvathi",
"Parikh, Victoria Nicole",
"Perez, Marco",
"Perino, Alexander Carroll",
"Quertermous, Thomas",
"Reejhsinghani, Risheen",
"Reuter, Chloe Michelle",
"Rockson, Stanley G",
"Rodriguez, Fatima",
"Rogers, Ian S",
"Romfh, Anitra W.",
"Salerno, Michael",
"Sallam, Karim",
"Schnittger, Ingela",
"Sharma, Rahul Prakash",
"Spin, Joshua Michael",
"Su, Wilber",
"Teuteberg, Jeffrey",
"Tremmel, Jennifer Ann",
"Tsao, Philip S.",
"Turakhia, Minang Pravin",
"Vagelos, Randall H",
"Valantine, Hannah A",
"Viswanathan, Mohan N.",
"Wang, Paul",
"Wheeler, Matthew",
"Witteles, Ronald M.",
"Wu, Joseph",
"Wu, Sean Ming-yuan",
"Yang, Phillip Chung-Ming",
"Yeung, Alan Ching",
"Yock, Paul",
"Yong, Celina Mei",
"Annes, Justin",
"Basina, Marina",
"Chang, Julia",
"Chen, Julie",
"Chua, Katrin Faye",
"Desai, Kaniksha",
"Dosiou, Chrysoula",
"Gesundheit, Neil",
"Hoffman, Andrew R",
"Kim, Sun Hee",
"Kraemer, Fredric B",
"Lal, Rayhan A.",
"Lee, Jennifer Shuwen",
"McAninch, Elizabeth Ann",
"McLaughlin, Tracey Lynn",
"Sellmeyer, Deborah",
"Tan, Marilyn Jing",
"Tanenbaum, Molly Leah",
"Wu, Joy Yee-jia",
"Ahmed, Aijaz",
"Banerjee, Subhas",
"Barakat, Monique Theresa",
"Becker, Laren Seth",
"Cheung, Amanda",
"Cheung, Ramsey",
"Clarke, John",
"Daugherty, Tami",
"Dhanasekaran, Renumathy",
"Dronamraju, Deepti",
"Fernandez-Becker, Nielsen Quimaria",
"Friedland, Shai",
"Garcia, Patricia",
"Glenn, Jeffrey S.",
"Goel Nair, Aparna",
"Greenberg, Harry B",
"Grewal, Damanpreet",
"Habtezion, Aida",
"Halawi, Houssam",
"Ho, Edith",
"Hwang, Joo Ha",
"Kamal, Afrin",
"Keyashian, Kian",
"Kim, Woong Ray",
"Kumari, Radhika",
"Kwo, Paul Y",
"Ladabaum, Uri",
"Lai, Jennifer Haw",
"Limketkai, Berkeley",
"Limsui, David",
"Neshatian, Leila",
"Nguyen, Linda Anh",
"Nguyen, Mindie Hoai",
"Okafor, Philip",
"Park, Walter Gwang-Up",
"Pottathil, Vijay",
"Rogalla, Stephan",
"Salles, Arghavan",
"Sinha, Sidhartha",
"Streett, Sarah Elizabeth",
"Torok, Natalie",
"Triadafilopoulos, George",
"Zikos, Thomas",
"Artandi, Steven",
"Berube, Caroline",
"Bhatt, Ami S",
"Brar, Rondeep Singh",
"Chien, May",
"Coutre, Steven Edward",
"Dunn, Tamara",
"Gotlib, Jason Robert",
"Greenberg, Peter L",
"Iberri, David Joseph",
"Kuo, Calvin Jay",
"Leung, Lawrence L",
"Liedtke, Michaela",
"Majeti, Ravindra",
"Malone III, James M",
"Mannis, Gabriel",
"Martin-Kool, Beth A",
"Price, Elizabeth Anne",
"Shanafelt, Tait",
"Shomali, William Elias",
"Zhang, Tian Yi",
"Ahuja, Neera",
"Caton, Julia",
"Chi, Jeffrey",
"Collins, William James",
"Gray, Zachary",
"Hom, Jason",
"Hosamani, Poonam Laxmappa",
"Jia, Xiaolin",
"Kugler, John",
"Kumar, Andre",
"Lew, Thomas Ken",
"Li, Ron",
"Liao, Charles",
"Markovits, Jessie",
"Nayak, Ashwin",
"Nguyen, Nhi Yen",
"Ozdalga, Errol",
"Rohatgi, Nidhi",
"Savage, Thomas Robert",
"Schulman, Kevin",
"Scoulios, Nicholas",
"Sehgal, Niraj",
"Shieh, Lisa",
"Subramanian, Kavitha",
"Svec, David",
"Wang, Linda",
"Wang, Xiao-Yan",
"Winslow, Dean L",
"Yang, Jingkun",
"Baker, Matthew Charles",
"Chaichian, Yashaar",
"Chung, Lorinda",
"Fairchild, Robert Michael",
"Falasinnu, Titilola",
"Genovese, Mark",
"Goronzy, Jorg J",
"Hong, Jison",
"Horomanski, Audra",
"Katsumoto, Tamiko Robin",
"Lorig, Kate R",
"Mar, Diane A.",
"Meffre, Eric",
"Robinson, William Hewitt",
"Shah, Neha Sheetal",
"Shoor, Stanford Mervyn",
"Strober, Samuel",
"Utz, Paul Joseph",
"Weyand, Cornelia",
"Andrews, Jason",
"Aronson, Jenny",
"Blackburn, Brian",
"Blish, Catherine",
"Bollyky, Paul",
"Bonilla, Hector Fabio",
"Chang, Amy",
"Deresinski, Stanley C",
"Einav, Shirit",
"Epstein, David",
"Ferguson, Jessica",
"Grant, Philip Magnus",
"Ho, Dora Yuk-Wai",
"Holodniy, Mark",
"Holubar, Marisa",
"Jagannathan, Prasanna",
"Kappagoda, Shanthi",
"Kozal, Michael",
"Luby, Stephen P",
"Montoya, Jose G",
"Nelson, Joanna",
"Nevins, Andrew Barrett",
"Openshaw, John",
"Parsonnet, Julie",
"Quintero, Orlando",
"Relman, David A",
"Salinas, Jorge Luis",
"Schoolnik, Gary K.",
"Scott, Jake",
"Shafer, Robert W.",
"Singh, Upinder",
"Subramanian, Aruna",
"Suh, Gina Ann",
"Tompkins, Lucy",
"Wang, Taia",
"Abra, Graham Edwin",
"Ahearn, Patrick Cunningham",
"Anand, Shuchi",
"Bhalla, Vivek",
"Brady, Brian Michael",
"Chang, Tara I-Hsin",
"Cheng, Xingxing Shelley",
"Chertow, Glenn M",
"Ganesan, Calyani",
"Isom, Robert T.",
"Lafayette, Richard",
"Lee, Seolhyun",
"Lenihan, Colin",
"Lit, Yiming Zhao",
"Lunn, Mitchell R",
"Maltzman, Jonathan Scott",
"Meyer, Timothy W",
"O'Shaughnessy, Michelle Marie",
"Pao, Alan Chun-Yao",
"Scandling, John D",
"Sirich, Tammy Lisa",
"Taiwo, Adetokunbo Adenike",
"Tamura, Manjula K.",
"Tan, Jane Cheun",
"Yu, Margaret Katie",
"Ziolkowski, Susan Lynn",
"Advani, Ranjana Hira",
"Alizadeh, Arash",
"Blayney, Douglas W.",
"Bui, Nam Quoc",
"Caswell-Jin, Jennifer Lee",
"Chen, Christopher Tsung-Jer",
"Chu, Gilbert",
"Clarke, Michael F",
"Colevas, Alexander Dimitrios",
"Crews, Jennie Robertson",
"Curtis, Christina Noel",
"Das, Millie",
"Fan, Alice",
"Felsher, Dean",
"Fisher, George Albert",
"Ford, James M",
"Ganjoo, Kristen N.",
"Gupta, Neel K",
"Gupta, Tanya",
"Haraldsdottir, Sigurdis",
"Heestand, Gregory Marshall",
"Itakura, Haruka",
"Ji, Hanlee P.",
"Johnson, Tyler",
"Khaki, Ali Raza",
"Khan, Saad A.",
"Khodadoust, Michael",
"Kummar, Shivaani",
"Kunz, Pamela L.",
"Kurian, Allison Walsh",
"Kurtz, David Matthew",
"Levy, Ronald",
"Levy, Shoshana",
"Maeda, Lauren Shizue",
"Mitchell, Beverly S",
"Myall, Nathaniel James",
"Nadauld, Lincoln D.",
"Neal, Joel",
"Padda, Sukhmani Kaur",
"Parikh, Divya Ahuja",
"Patel, Manali Indravadan",
"Pegram, Mark Daniel",
"Pinto, Harlan",
"Ramchandran, Kavitha Jennifer",
"Reddy, Sunil Arani",
"Riaz, Fauzia",
"Rosenberg, Saul A",
"Roy, Mohana",
"Schapira, Lidia",
"Shah, Sumit Anil",
"Shaheen, Shagufta",
"Sikic, Branimir I",
"Sledge, George",
"Srinivas, Sandhya",
"Telli, Melinda L",
"Wakelee, Heather A.",
"Artandi, Maja Katrin",
"Asch, Steven M.",
"Aslakson, Rebecca",
"Bajra, Rika",
"Barman, Linda K.",
"Barry, Michele",
"Basaviah, Preetha",
"Baumgartner, Laura",
"Bendavid, Eran",
"Bharija, Ankur",
"Bollyky, Jennifer Beart",
"Brenner, Keri",
"Burwell, Nicole",
"Caceres, Wendy",
"Cannon, Kendell Michelle",
"Chang, David Shi-Ann",
"Chang, Kevin Kai",
"Chang, Sang-ick",
"Chelvakumar, Meenadchi",
"Chen, Chwen-Yuen Angie",
"Chen, Jimmy",
"Cheung, Lauren",
"Chiang, Kim Fang",
"Cullen, Mark",
"David, Sean Patrick",
"De Bruyne, Korina",
"Doroudgar, Shadi",
"Edwards, Lauren Michelle",
"Filsoof, Amy Rogers",
"Frayne, Susan",
"Fukaya, Eri",
"Geldsetzer, Pascal",
"Geng, Linda",
"Goldman, Lisa",
"Halket, Douglas",
"Hannah, Josef",
"Harman, Stephanie",
"Heidari, Shireen",
"Hopkins, Joseph R",
"Ip, Eric",
"James, Brent C.",
"Jee, Olivia",
"Juarez-Reyes, Maria",
"Kado, Deborah M.",
"Kahn, James",
"Kalanithi, Lucy Emily Goddard",
"Kim, Jennifer",
"Kuriakose, Clair Mariam",
"Kurina, Lianne Marie",
"Lambert, Monique Hitomi",
"Levine, Marcie Lynn",
"Lin, Bryant",
"Lin, Steven Yu-Ta",
"Lindsay, Ann D",
"Liu, Christine Kee",
"Lorenz, Karl",
"Lotfi, Justin",
"Lough, Mary",
"Mahoney, Megan Ruth",
"Martin, Marina",
"Mesias, Matthew",
"Milstein, Arnold",
"Montacute, Tamara Kailoa",
"Morioka-Douglas, Nancy",
"Nelligan, Ian J",
"Nelson, Courtney E",
"Osterberg, Lars",
"Periyakoil, Vyjeyanthi S.",
"Phadke, Anuradha Jayant",
"Puri, Rajan",
"Richmond II, Stephen Patrick",
"Rokicki-Parashar, Jesse",
"Rubenstein, Edward",
"Rydel, Tracy A.",
"Sattler, Amelia Louise",
"Schillinger, Erika",
"Shah, Shreya Jitendra",
"Sharp, Christopher",
"Shaw, Jonathan Glazer",
"Sheffrin, Meera",
"Singer, Sara",
"Singh, Baldeep",
"Skhiri, Mehdi",
"Smith, Grant Matthew",
"Srinivasan, Malathi",
"Tabor, Holly Kathryn",
"Tee, Silvia",
"Teng, Valerie",
"Thom, David H",
"Torres, Elise",
"Tsai, Cynthia",
"Tsai, Sandra Anping",
"Vaughan, Laura",
"Weinlander, Eva E",
"Williams, Michelle Y.",
"Winget, Marcelle",
"Wittman, Richard I.",
"Yefimova, Maria",
"Yu, Grace Chen",
"Yurkiewicz, Ilana Rachel",
"Zulman, Donna Michelle",
"Ahmad, Shahzad",
"Arroyo, Anna Juche",
"Bedi, Harmeet Singh",
"Cao, Michelle",
"Chen, Meng",
"Chhatwani, Laveena",
"Chinthrajah, Rebecca S",
"de Jesus Perez, Vinicio",
"Desai, Tushar Jasubhai",
"Dhillon, Gundeep S",
"Dinakar, Chitra",
"Eggert, Lauren E",
"Fast, Katharine",
"Hsu, Joe Le",
"Jonas, Andrea",
"Kasowski, Maya M.",
"Kudelko, Kristina Tracy",
"Kuschner, Ware G",
"Lai, Yu Kuang",
"Levitt, Joseph Eric",
"Marmor, Meghan",
"Mohabir, Paul K",
"Mooney, Joshua James",
"Nadeau, Kari Christine",
"Nicolls, Mark Robert",
"Pasupneti, Shravani",
"Raj, Rishi",
"Rajadas, Jayakumar",
"Ramsey, Meghan",
"Rogers, Angela",
"Ruoss, Stephen J.",
"Shaller, Brian",
"Sharifi, Husham",
"Sindher, Sayantani",
"Spiekerkoetter, Edda",
"Sung, Arthur Wai",
"Sung, Yon Kyung",
"Sweatt, Andrew John",
"Van Wert, Ryan Joseph Frank",
"Weinacker, Ann",
"Wong, Priscilla Hiu-Chun",
"Yu, Diana",
"Zamanian, Roham T.",
"Zhu, Linda Jing Xiang",
"Gardner, Christopher D",
"Heaney, Catherine Ann",
"Hsing, Ann W",
"Ioannidis, John",
"Maron, David Joel",
"Prochaska, Judith",
"Stafford, Randall S.",
"Stefanick, Marcia Lynn"];
faculty_names.sort();
                for (let i = 0; i < faculty_names.length; i++) {
                    document.write('<option value="' + faculty_names[i] + '">' + faculty_names[i] + '</option>');
                }
            </script>
        </select>

        <label for="year">Year:</label>
        <select id="year" name="year">
            <option value="all" selected>All</option>
            <!-- Years dropdown options from 2000 to 2024 -->
            <script>
                for (let i = 2021; i <= 2022; i++) {
                    document.write('<option value="' + i + '">' + i + '</option>');
                }
            </script>
        </select>
        <button onclick="updateIframe()">Apply</button>
    </div>

    <div id="iframe-container">
        <iframe id="chatbotIframe" src="https://cloud.epsilla.com/chatbot/9ca42934-b4cd-41a4-be4d-e7884546b20e-345372930/d750a4d9-24f8-4c69-8e79-eff1b0520761?mode=embed&retrieverFilter=true" width="100%" height="100%" style="border: none;"></iframe>
    </div>

    <script>
        function updateIframe() {
            const faculty = document.getElementById('faculty').value.trim();
            const year = document.getElementById('year').value;
            // const topic = document.getElementById('topic').value.trim();

            let filterConditions = [];

            if (faculty !== 'all') {
                filterConditions.push(`_Faculty_Name = '${faculty}'`);
            }
            // if (topic !== '') {
            //     filterConditions.push(`Content LIKE '%${encodeURIComponent(topic)}%'`);
            // }
            if (year !== 'all') {
                filterConditions.push(`Pub_Date LIKE '${year}%'`);
            }

            const filterConditionString = filterConditions.length > 0 ? filterConditions.join(' AND ') : 'true';

            const iframeSrc = `https://cloud.epsilla.com/chatbot/9ca42934-b4cd-41a4-be4d-e7884546b20e-345372930/d750a4d9-24f8-4c69-8e79-eff1b0520761?mode=embed&retrieverFilter=${encodeURIComponent(filterConditionString)}`;

            document.getElementById('chatbotIframe').src = iframeSrc;
        }
    </script>
</body>
</html>
